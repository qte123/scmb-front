{"ast":null,"code":"import _toConsumableArray from \"D:/scmb/scmb_front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { getCookies, setCookies, removeCookies } from \"../api/cookie.js\";\nexport default {\n  state: {\n    isCollapse: false,\n    menu: []\n  },\n  mutations: {\n    collapseMenu: function collapseMenu(state) {\n      state.isCollapse = !state.isCollapse;\n    },\n    setMenu: function setMenu(state, val) {\n      state.menu = val;\n      setCookies('menu', JSON.stringify(val), 60 * 30);\n    },\n    clearMenu: function clearMenu(state) {\n      state.menu = [];\n      removeCookies('menu');\n    },\n    addMenu: function addMenu(state, router) {\n      if (!getCookies('menu')) {\n        return;\n      }\n\n      var menu = JSON.parse(getCookies('menu'));\n      state.menu = menu;\n      var menuArray = [];\n      menu.forEach(function (item) {\n        if (item.children) {\n          item.children = item.children.map(function (item) {\n            item.component = function () {\n              return import(\"../views/\".concat(item.url));\n            };\n\n            return item;\n          });\n          menuArray.push.apply(menuArray, _toConsumableArray(item.children));\n        } else {\n          console.log(item.url);\n\n          item.component = function () {\n            return import(\"../views/\".concat(item.url));\n          };\n\n          menuArray.push(item);\n        }\n      }); //路由的动态添加\n\n      menuArray.forEach(function (item) {\n        router.addRoute('Main', item);\n      });\n    }\n  }\n};","map":{"version":3,"sources":["D:/scmb/scmb_front/store/tab.js"],"names":["getCookies","setCookies","removeCookies","state","isCollapse","menu","mutations","collapseMenu","setMenu","val","JSON","stringify","clearMenu","addMenu","router","parse","menuArray","forEach","item","children","map","component","url","push","console","log","addRoute"],"mappings":";;;;;;;AAAA,SAASA,UAAT,EAAqBC,UAArB,EAAiCC,aAAjC,QAAqD,kBAArD;AAEA,eAAe;AACXC,EAAAA,KAAK,EAAE;AACHC,IAAAA,UAAU,EAAE,KADT;AAEHC,IAAAA,IAAI,EAAE;AAFH,GADI;AAKXC,EAAAA,SAAS,EAAE;AACPC,IAAAA,YADO,wBACMJ,KADN,EACa;AAChBA,MAAAA,KAAK,CAACC,UAAN,GAAmB,CAACD,KAAK,CAACC,UAA1B;AACH,KAHM;AAIPI,IAAAA,OAJO,mBAICL,KAJD,EAIQM,GAJR,EAIa;AAChBN,MAAAA,KAAK,CAACE,IAAN,GAAaI,GAAb;AACAR,MAAAA,UAAU,CAAC,MAAD,EAASS,IAAI,CAACC,SAAL,CAAeF,GAAf,CAAT,EAA8B,KAAG,EAAjC,CAAV;AACH,KAPM;AAQPG,IAAAA,SARO,qBAQGT,KARH,EAQU;AACbA,MAAAA,KAAK,CAACE,IAAN,GAAa,EAAb;AACAH,MAAAA,aAAa,CAAC,MAAD,CAAb;AACH,KAXM;AAYPW,IAAAA,OAZO,mBAYCV,KAZD,EAYQW,MAZR,EAYgB;AACnB,UAAI,CAACd,UAAU,CAAC,MAAD,CAAf,EAAyB;AACrB;AACH;;AACD,UAAMK,IAAI,GAAGK,IAAI,CAACK,KAAL,CAAWf,UAAU,CAAC,MAAD,CAArB,CAAb;AACAG,MAAAA,KAAK,CAACE,IAAN,GAAaA,IAAb;AACA,UAAMW,SAAS,GAAG,EAAlB;AACAX,MAAAA,IAAI,CAACY,OAAL,CAAa,UAAAC,IAAI,EAAI;AACjB,YAAIA,IAAI,CAACC,QAAT,EAAmB;AACfD,UAAAA,IAAI,CAACC,QAAL,GAAgBD,IAAI,CAACC,QAAL,CAAcC,GAAd,CAAkB,UAAAF,IAAI,EAAI;AACtCA,YAAAA,IAAI,CAACG,SAAL,GAAiB;AAAA,qBAAM,0BAAmBH,IAAI,CAACI,GAAxB,EAAN;AAAA,aAAjB;;AACA,mBAAOJ,IAAP;AACH,WAHe,CAAhB;AAIAF,UAAAA,SAAS,CAACO,IAAV,OAAAP,SAAS,qBAASE,IAAI,CAACC,QAAd,EAAT;AACH,SAND,MAMO;AACHK,UAAAA,OAAO,CAACC,GAAR,CAAYP,IAAI,CAACI,GAAjB;;AACAJ,UAAAA,IAAI,CAACG,SAAL,GAAiB;AAAA,mBAAM,0BAAmBH,IAAI,CAACI,GAAxB,EAAN;AAAA,WAAjB;;AACAN,UAAAA,SAAS,CAACO,IAAV,CAAeL,IAAf;AACH;AACJ,OAZD,EAPmB,CAoBnB;;AACAF,MAAAA,SAAS,CAACC,OAAV,CAAkB,UAAAC,IAAI,EAAI;AACtBJ,QAAAA,MAAM,CAACY,QAAP,CAAgB,MAAhB,EAAwBR,IAAxB;AACH,OAFD;AAGH;AApCM;AALA,CAAf","sourcesContent":["import { getCookies, setCookies, removeCookies} from \"../api/cookie.js\"\r\n\r\nexport default {\r\n    state: {\r\n        isCollapse: false,\r\n        menu: []\r\n    },\r\n    mutations: {\r\n        collapseMenu(state) {\r\n            state.isCollapse = !state.isCollapse\r\n        },\r\n        setMenu(state, val) {\r\n            state.menu = val\r\n            setCookies('menu', JSON.stringify(val), 60*30)\r\n        },\r\n        clearMenu(state) {\r\n            state.menu = []\r\n            removeCookies('menu')\r\n        },\r\n        addMenu(state, router) {\r\n            if (!getCookies('menu')) {\r\n                return\r\n            }\r\n            const menu = JSON.parse(getCookies('menu'))\r\n            state.menu = menu\r\n            const menuArray = []\r\n            menu.forEach(item => {\r\n                if (item.children) {\r\n                    item.children = item.children.map(item => {\r\n                        item.component = () => import(`../views/${item.url}`)\r\n                        return item\r\n                    })\r\n                    menuArray.push(...item.children)\r\n                } else {\r\n                    console.log(item.url)\r\n                    item.component = () => import(`../views/${item.url}`)\r\n                    menuArray.push(item)\r\n                }\r\n            });\r\n            //路由的动态添加\r\n            menuArray.forEach(item => {\r\n                router.addRoute('Main', item)\r\n            })\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}